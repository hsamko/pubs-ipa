{"variables":{"system.debug":{"value":"false","allowOverride":true},"lastCommitMessage":{"value":"make build for android","allowOverride":true},"pr.check.id":{"value":"","allowOverride":true},"pr.status.id":{"value":"","allowOverride":true},"MOBILECENTER_OUTPUT_DIRECTORY":{"value":"$(Build.ArtifactStagingDirectory)/build"},"MOBILECENTER_BRANCH":{"value":"main"},"MOBILECENTER_BUILD_ID":{"value":"$(Build.BuildNumber)"},"MOBILECENTER_SOURCE_DIRECTORY":{"value":"$(Build.Repository.LocalPath)"},"MOBILECENTER_TRIGGER":{"value":"continuous"},"APPCENTER_OUTPUT_DIRECTORY":{"value":"$(Build.ArtifactStagingDirectory)/build"},"APPCENTER_BRANCH":{"value":"main"},"APPCENTER_BUILD_ID":{"value":"$(Build.BuildNumber)"},"APPCENTER_SOURCE_DIRECTORY":{"value":"$(Build.Repository.LocalPath)"},"APPCENTER_TRIGGER":{"value":"continuous"},"buildScripts.toolset":{"value":"{}"},"SDK":{"value":"iphoneos"},"TestSDK":{"value":"iphonesimulator"},"P12Password":{"value":null,"isSecret":true},"P12Filename":{"value":"iPhone Distribution%3A China CITIC Bank Corporation Limited.p12"},"MobileProvisionFilename":{"value":"China CITIC Bank Corporation Limited.mobileprovision"},"P12SecureFileId":{"value":"ce7529a8-d264-4798-b951-d41dbce43aa5"},"MobileProvisionSecureFileId":{"value":"6d29833c-b361-4f7b-8ff1-0b315dac7422"},"AppExtensionProvisionSecureFiles":{"value":"[]"},"MobileProvision":{"value":"{\"expirationDate\":\"2024-10-20T10:54:16.000Z\",\"teamIdentifier\":\"6A9EDBEAZ4\",\"type\":\"enterprise\",\"bundleIdentifier\":\"com.bankofcitic.mobile\",\"UUID\":\"5cf50419-d4fd-439b-b562-efce0f7fa58d\"}"},"MOBILECENTER_XCODE_PROJECT":{"value":"ios/customComponents.xcworkspace"},"MOBILECENTER_XCODE_SCHEME":{"value":"customComponents"},"APPCENTER_XCODE_PROJECT":{"value":"ios/customComponents.xcworkspace","allowOverride":true},"APPCENTER_XCODE_WORKSPACE":{"value":"ios/customComponents.xcworkspace","allowOverride":true},"APPCENTER_XCODE_SCHEME":{"value":"customComponents"},"sonoma.tags":{"value":"continuous,xcode,signed","allowOverride":true}},"buildNumberFormat":"$(BuildID)","process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"Install build scripts","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"inline","scriptName":"","arguments":"","workingDirectory":"","script":"Set-Location -Path '$(Agent.HomeDirectory)'\nInvoke-WebRequest -Uri 'https://appcenterbuildassets.azureedge.net/buildscripts/appcenter-build-assets-latest.zip' -OutFile 'appcenter-build-assets-latest.zip'\nif (Test-Path ./scripts) { Remove-Item -Path ./scripts -Force -Recurse }\nNew-Item -ItemType directory -Path 'scripts' | Out-Null\nunzip -q -d 'scripts' 'appcenter-build-assets-latest.zip'\nInvoke-Expression 'bash ./scripts/init.sh'","failOnStderr":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Tag build","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b","versionSpec":"2.*","definitionType":"task"},"inputs":{"scriptPath":"$(Agent.HomeDirectory)/scripts/emit-tags.sh","args":"$(sonoma.tags)","disableAutoCwd":"false","cwd":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Set Xcode path","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"/bin/bash","arguments":"-c \"sudo xcode-select --switch /Applications/Xcode_15.2.app/Contents/Developer\"","workingFolder":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Apple certificate","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"d2eff759-736d-4b7b-8554-7ba0960d49d6","versionSpec":"2.*","definitionType":"task"},"inputs":{"certSecureFile":"ce7529a8-d264-4798-b951-d41dbce43aa5","certPwd":"$(P12Password)","keychain":"temp","keychainPassword":"","customKeychainPath":"","deleteCert":"","deleteCustomKeychain":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Apple provisioning profile","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"0f9f66ca-250e-40fd-9678-309bcd439d5e","versionSpec":"0.*","definitionType":"task"},"inputs":{"provProfileSecureFile":"6d29833c-b361-4f7b-8ff1-0b315dac7422","removeProfile":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Pod install","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"bfc05e0d-839c-42cd-89c7-0f9fbfcab965","versionSpec":"0.*","definitionType":"task"},"inputs":{"cwd":"ios","forceRepoUpdate":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Determine signing style and pods update","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b","versionSpec":"2.*","definitionType":"task"},"inputs":{"scriptPath":"$(Agent.HomeDirectory)/scripts/determine-signing-style-and-pods-update.sh","args":"","disableAutoCwd":"true","cwd":"$(Build.SourcesDirectory)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"Update Xcode build settings","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"node","arguments":"$(Agent.HomeDirectory)/scripts/build-xcproject-analyzer/node_modules/@build/xcproject-analyzer-script/script/bin.js --app-id=\"569ac4f9-3599-4f9c-8053-31d969839e2e\" --app-insights-key=\"$(AppInsightsKey)\" --xc-workspace-path=\"$(APPCENTER_XCODE_WORKSPACE)\" --scheme=\"customComponents\" --code-sign-style=\"$(SIGNING_OPTION)\" --app-provisioning-profile-uuid=\"5cf50419-d4fd-439b-b562-efce0f7fa58d\" --code-sign-identity=\"$(APPLE_CERTIFICATE_SIGNING_IDENTITY)\" --development-team=\"6A9EDBEAZ4\" --app-bundle-identifier=\"com.bankofcitic.mobile\"","workingFolder":"$(Build.SourcesDirectory)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Xcode build (signed)","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"1e78dc1b-9132-4b18-9c75-0e7ecc634b74","versionSpec":"4.*","definitionType":"task"},"inputs":{"actions":"clean","configuration":"","sdk":"$(SDK)","xcWorkspacePath":"$(APPCENTER_XCODE_PROJECT)","scheme":"customComponents","xcodeVersion":"default","xcodeDeveloperDir":"/Applications/Xcode_15.2.app/Contents/Developer","packageApp":"True","archivePath":"$(agent.builddirectory)/output/build/archive","exportPath":"$(agent.builddirectory)/output/build/export","exportOptions":"auto","exportTeamId":"","exportOptionsPlist":"","exportArgs":"","signingOption":"$(SIGNING_OPTION)","destinationPlatformOption":"default","args":"","cwd":"","outputPattern":"$(agent.builddirectory)/output/build","useXcpretty":"false","publishJUnitResults":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy build files to staging","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"$(agent.builddirectory)/output/build/export","Contents":"**/*.ipa","TargetFolder":"$(build.artifactstagingdirectory)/build","CleanTargetFolder":"false","OverWrite":"true","flattenFolders":"True"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy symbol files to staging","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"$(agent.builddirectory)/output/build/archive/customComponents.xcarchive/dSYMs","Contents":"**/*.dSYM/**","TargetFolder":"$(build.artifactstagingdirectory)/symbols","CleanTargetFolder":"false","OverWrite":"true","flattenFolders":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish build","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)/build","ArtifactName":"build","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)"}},{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"Publish symbols","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)/symbols","ArtifactName":"symbols","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)"}}],"name":null,"refName":"Phase_1","condition":"succeeded()","target":{"executionOptions":null,"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":0}],"type":1},"repository":{"properties":{"connectedServiceId":"4837e58a-7c3b-4928-9717-d3077fb24d46","gitLfsSupport":"true","skipSyncSource":"false","checkoutNestedSubmodules":"true","fetchDepth":"0","cleanOptions":"3"},"id":"https://github.com/MoxMoxIOS/https-github.com-gulsher7-CodePushApp.git","type":"Git","name":"git-e4d96da4-b129-4aac-9596-9b9ea3761723","url":"https://github.com/MoxMoxIOS/https-github.com-gulsher7-CodePushApp.git","defaultBranch":"refs/heads/main","clean":"true","checkoutSubmodules":true},"project":{"id":"<Please replace with your Azure DevOps ProjectID>"}}